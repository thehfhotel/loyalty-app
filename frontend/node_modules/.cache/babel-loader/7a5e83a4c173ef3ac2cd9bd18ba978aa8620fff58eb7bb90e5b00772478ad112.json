{"ast":null,"code":"import axios from'axios';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3012';const loyaltyService={getDashboard:async()=>{const token=localStorage.getItem('accessToken');if(!token){throw new Error('No token found');}const response=await axios.get(`${API_URL}/api/v1/loyalty/dashboard`,{headers:{Authorization:`Bearer ${token}`}});return response.data;},getPointsBalance:async()=>{const token=localStorage.getItem('accessToken');if(!token){throw new Error('No token found');}const response=await axios.get(`${API_URL}/api/v1/loyalty/points`,{headers:{Authorization:`Bearer ${token}`}});return response.data;},getTransactions:async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;const token=localStorage.getItem('accessToken');if(!token){throw new Error('No token found');}const response=await axios.get(`${API_URL}/api/v1/transactions?page=${page}&limit=${limit}`,{headers:{Authorization:`Bearer ${token}`}});return response.data;},getTierInfo:async()=>{const token=localStorage.getItem('accessToken');if(!token){throw new Error('No token found');}const response=await axios.get(`${API_URL}/api/v1/tiers/my-tier`,{headers:{Authorization:`Bearer ${token}`}});return response.data;},getRewards:async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;const token=localStorage.getItem('accessToken');if(!token){throw new Error('No token found');}const response=await axios.get(`${API_URL}/api/v1/rewards?page=${page}&limit=${limit}`,{headers:{Authorization:`Bearer ${token}`}});return response.data;}};export{loyaltyService};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","loyaltyService","getDashboard","token","localStorage","getItem","Error","response","get","headers","Authorization","data","getPointsBalance","getTransactions","page","arguments","length","undefined","limit","getTierInfo","getRewards"],"sources":["/home/nut/loyalty-app/frontend/src/services/loyaltyService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3012';\n\nconst loyaltyService = {\n  getDashboard: async () => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      throw new Error('No token found');\n    }\n\n    const response = await axios.get(`${API_URL}/api/v1/loyalty/dashboard`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  },\n\n  getPointsBalance: async () => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      throw new Error('No token found');\n    }\n\n    const response = await axios.get(`${API_URL}/api/v1/loyalty/points`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  },\n\n  getTransactions: async (page = 1, limit = 20) => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      throw new Error('No token found');\n    }\n\n    const response = await axios.get(`${API_URL}/api/v1/transactions?page=${page}&limit=${limit}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  },\n\n  getTierInfo: async () => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      throw new Error('No token found');\n    }\n\n    const response = await axios.get(`${API_URL}/api/v1/tiers/my-tier`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  },\n\n  getRewards: async (page = 1, limit = 20) => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      throw new Error('No token found');\n    }\n\n    const response = await axios.get(`${API_URL}/api/v1/rewards?page=${page}&limit=${limit}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  }\n};\n\nexport { loyaltyService };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}