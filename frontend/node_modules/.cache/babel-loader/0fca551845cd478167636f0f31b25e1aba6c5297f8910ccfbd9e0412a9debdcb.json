{"ast":null,"code":"import axios from'axios';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3011';const authService={login:async(email,password)=>{const response=await axios.post(`${API_URL}/api/v1/auth/login`,{email,password});return response.data;},register:async userData=>{const response=await axios.post(`${API_URL}/api/v1/auth/register`,userData);return response.data;},getCurrentUser:async()=>{const token=localStorage.getItem('accessToken');if(!token){throw new Error('No token found');}const response=await axios.get(`${API_URL}/api/v1/auth/me`,{headers:{Authorization:`Bearer ${token}`}});return response.data.data.user;},updateProfile:async userData=>{const token=localStorage.getItem('accessToken');if(!token){throw new Error('No token found');}const response=await axios.put(`${API_URL}/api/v1/profile`,userData,{headers:{Authorization:`Bearer ${token}`}});return response.data;},changePassword:async(currentPassword,newPassword)=>{const token=localStorage.getItem('accessToken');if(!token){throw new Error('No token found');}const response=await axios.post(`${API_URL}/api/v1/auth/change-password`,{currentPassword,newPassword},{headers:{Authorization:`Bearer ${token}`}});return response.data;}};export{authService};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","authService","login","email","password","response","post","data","register","userData","getCurrentUser","token","localStorage","getItem","Error","get","headers","Authorization","user","updateProfile","put","changePassword","currentPassword","newPassword"],"sources":["/home/nut/loyalty-app/frontend/src/services/authService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3011';\n\nconst authService = {\n  login: async (email, password) => {\n    const response = await axios.post(`${API_URL}/api/v1/auth/login`, {\n      email,\n      password\n    });\n    return response.data;\n  },\n\n  register: async (userData) => {\n    const response = await axios.post(`${API_URL}/api/v1/auth/register`, userData);\n    return response.data;\n  },\n\n  getCurrentUser: async () => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      throw new Error('No token found');\n    }\n\n    const response = await axios.get(`${API_URL}/api/v1/auth/me`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data.data.user;\n  },\n\n  updateProfile: async (userData) => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      throw new Error('No token found');\n    }\n\n    const response = await axios.put(`${API_URL}/api/v1/profile`, userData, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  },\n\n  changePassword: async (currentPassword, newPassword) => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      throw new Error('No token found');\n    }\n\n    const response = await axios.post(`${API_URL}/api/v1/auth/change-password`, {\n      currentPassword,\n      newPassword\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  }\n};\n\nexport { authService };"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAExE,KAAM,CAAAC,WAAW,CAAG,CAClBC,KAAK,CAAE,KAAAA,CAAOC,KAAK,CAAEC,QAAQ,GAAK,CAChC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,IAAI,CAAC,GAAGT,OAAO,oBAAoB,CAAE,CAChEM,KAAK,CACLC,QACF,CAAC,CAAC,CACF,MAAO,CAAAC,QAAQ,CAACE,IAAI,CACtB,CAAC,CAEDC,QAAQ,CAAE,KAAO,CAAAC,QAAQ,EAAK,CAC5B,KAAM,CAAAJ,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,IAAI,CAAC,GAAGT,OAAO,uBAAuB,CAAEY,QAAQ,CAAC,CAC9E,MAAO,CAAAJ,QAAQ,CAACE,IAAI,CACtB,CAAC,CAEDG,cAAc,CAAE,KAAAA,CAAA,GAAY,CAC1B,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACjD,GAAI,CAACF,KAAK,CAAE,CACV,KAAM,IAAI,CAAAG,KAAK,CAAC,gBAAgB,CAAC,CACnC,CAEA,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACmB,GAAG,CAAC,GAAGlB,OAAO,iBAAiB,CAAE,CAC5DmB,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUN,KAAK,EAChC,CACF,CAAC,CAAC,CACF,MAAO,CAAAN,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACW,IAAI,CAChC,CAAC,CAEDC,aAAa,CAAE,KAAO,CAAAV,QAAQ,EAAK,CACjC,KAAM,CAAAE,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACjD,GAAI,CAACF,KAAK,CAAE,CACV,KAAM,IAAI,CAAAG,KAAK,CAAC,gBAAgB,CAAC,CACnC,CAEA,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACwB,GAAG,CAAC,GAAGvB,OAAO,iBAAiB,CAAEY,QAAQ,CAAE,CACtEO,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUN,KAAK,EAChC,CACF,CAAC,CAAC,CACF,MAAO,CAAAN,QAAQ,CAACE,IAAI,CACtB,CAAC,CAEDc,cAAc,CAAE,KAAAA,CAAOC,eAAe,CAAEC,WAAW,GAAK,CACtD,KAAM,CAAAZ,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACjD,GAAI,CAACF,KAAK,CAAE,CACV,KAAM,IAAI,CAAAG,KAAK,CAAC,gBAAgB,CAAC,CACnC,CAEA,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,IAAI,CAAC,GAAGT,OAAO,8BAA8B,CAAE,CAC1EyB,eAAe,CACfC,WACF,CAAC,CAAE,CACDP,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUN,KAAK,EAChC,CACF,CAAC,CAAC,CACF,MAAO,CAAAN,QAAQ,CAACE,IAAI,CACtB,CACF,CAAC,CAED,OAASN,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}